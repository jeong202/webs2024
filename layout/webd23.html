<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://webfontworld.github.io/NexonLv1Gothic/NexonLv1Gothic.css" rel="stylesheet">
    <title>웹디자인기능사 메뉴 M3</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            font-family: "NexonLv1Gothic";
        }

        li {
            list-style: none;
        }

        a {
            text-decoration: none;
            color: #000;
        }

        #wrap {
            width: 1200px;
            margin: 0 auto;
        }

        #header {
            width: 100%;
            display: flex;
        }

        #header .logo {
            width: 20%;
            height: 100px;
            background-color: #efefef;
        }

        #header .nav {
            width: 80%;
            background-color: #e3e3e3;
        }

        #slider {
            width: 100%;
            height: 300px;
            background-color: #d9d9d9;
        }

        #contents {
            width: 100%;
            display: flex;
        }

        #contents .content1 {
            width: 33.3333%;
            height: 200px;
            background-color: #d1d1d1;
        }

        #contents .content2 {
            width: 33.3333%;
            height: 200px;
            background-color: #c7c7c7;
        }

        #contents .content3 {
            width: 33.3333%;
            height: 200px;
            background-color: #bcbcbc;
        }

        #footer {
            width: 100%;
            display: flex;
        }

        #footer .footer1 {
            width: 20%;
            height: 100px;
            background-color: #b1b1b1;
        }

        #footer .footer2 {
            width: 60%;
            height: 100px;
            background-color: #a3a3a3;
        }

        #footer .footer3 {
            width: 20%;
            height: 100px;
            background-color: #9d9d9d;
        }
        /* nav */
        
        #header {
          position: relative; /* #header::after의 position: absolute;  기준점 */
        }
/* ________________________________________________________________________________________________*/
       
        /* 메뉴에 마우스 오버를 하면 서브 메뉴도 나오고 가상 요소 전체 배경도 나오게 작업하기 위해 header영역에 가상요소를 만들어 클래스 on을 붙이면  가상 요소 전체 배경도 나오도록 설정. 평상시에는 높이가 0이었다가 메뉴에 마우스 오버시 152로 높이가 변해서 나타남*/
        #header::after {
            content: '';
            width: 100%;
            height: 0px;
            background-color: #a89393;
            position: absolute; /* 기준점은 header */
            left: 0;
            top: 100px;
            z-index: 1;    /* 서브메뉴 아래에 가상요소가 나와야하므로 우선순위를 고려함*/
            transition: all 400ms;
        }
        #header.on::after {
            height: 152px;
        }
/* ________________________________________________________________________________________________*/

        .nav {
            z-index: 1000;
        }

        .nav > ul {
            display: flex;
            justify-content: end;
            margin-top: 62px;
        }

        .nav > ul > li {
            position: relative;
        }

        .nav > ul > li > a {
          display: inline-block;
          padding: 10px 50px;
          background-color: #fad3d3;
        }

        .nav > ul > li > a:hover {
            background-color: #b99d9d;;
        }

        .nav > ul > li > ul {
            position: absolute;
            left: 0;
            top: 38px;
            width: 100%;
            text-align: center;
            display: none;
        }

        .nav > ul > li > ul > li {}

        .nav > ul > li > ul > li > a {
           display: inline-block;
           padding: 10px;
           width: 100%;
           box-sizing: border-box;
        }

        .nav > ul > li > ul > li >a:hover {
            background-color: #e3a7a7;
        }

        /* 자바스크립트용 CSS */
        .nav > ul > li > ul {
            display: block;  /* 위에서 설정된 display: none;값을 바꿔서 요소가 보이게함 */
            height: 0;
            overflow: hidden;
            transition: all 400ms;
        }
    </style>
</head>

<body>
    <div id="wrap">
        <div id="header">
            <div class="logo"></div>
            <nav class="nav">
                <ul>
                    <li>
                        <a href="#">메뉴1</a>
                        <ul class="submenu">
                            <li><a href="#">서브메뉴1-1</a></li>
                            <li><a href="#">서브메뉴1-2</a></li>
                            <li><a href="#">서브메뉴1-3</a></li>
                            <li><a href="#">서브메뉴1-4</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#">메뉴2</a>
                        <ul class="submenu">
                            <li><a href="#">서브메뉴2-1</a></li>
                            <li><a href="#">서브메뉴2-2</a></li>
                            <li><a href="#">서브메뉴2-3</a></li>
                            <li><a href="#">서브메뉴2-4</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#">메뉴3</a>
                        <ul class="submenu">
                            <li><a href="#">서브메뉴3-1</a></li>
                            <li><a href="#">서브메뉴3-2</a></li>
                            <li><a href="#">서브메뉴3-3</a></li>
                            <li><a href="#">서브메뉴3-4</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#">메뉴4</a>
                        <ul class="submenu">
                            <li><a href="#">서브메뉴4-1</a></li>
                            <li><a href="#">서브메뉴4-2</a></li>
                            <li><a href="#">서브메뉴4-3</a></li>
                            <li><a href="#">서브메뉴4-4</a></li>
                        </ul>
                    </li>
                </ul>
            </nav>
        </div>
        <!-- //header -->

        <div id="slider">
        </div>
        <!-- //slider -->

        <div id="contents">
            <div class="content1"></div>
            <div class="content2"></div>
            <div class="content3"></div>
        </div>
        <!-- //contents -->

        <div id="footer">
            <div class="footer1"></div>
            <div class="footer2"></div>
            <div class="footer3"></div>
        </div>
        <!-- //footer -->
    </div>
    <!-- //wrap -->
</body>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script>
    // //JQ
    // $(function(){
    // $(".nav > ul > li").mouseover(function(){        
    //     // $(".nav > ul > li > ul").stop().slideDown(200);
    //     $(".nav > ul > li > ul").stop().fadeIn(650);    
    //     $("#header").addClass("on");  
    // });
    // $(".nav > ul > li").mouseout(function(){
    //     // $(".nav > ul > li > ul").stop().slideUp(200);
    //     $(".nav > ul > li > ul").stop().fadeOut(100);
    //     $("#header").removeClass("on");  
    // });
    // })

    //JS
    window.onload = function(){
    //선택자 (위치), 4개의 메뉴(메뉴1,메뉴2,메뉴3,메뉴4)가 들어있는 1개의 ul을 변수에 저장 따라서 querySelectorAll을 사용할 수 없음
    let navList = document.querySelector(".nav > ul");
    
    //서브메뉴 나타내기 : ul에 마우스오버했을 때 각각 서브메뉴를 다중선택 해 높이를 155로 주어 서브메뉴가 나타나게하고(transition이 적용) (.submenu의 이름을 sub로 정의함)
    //가상요소 나타내기 : getElementById을 사용해 헤더태그를 찾아주고 그 태그의 클래스에 on을 추가해 가상요소를 나타나게 함 
    navList.addEventListener("mouseover", () => {
        navList.querySelectorAll(".submenu").forEach((sub) => {
            sub.style.height = "155px";
        });
        document.getElementById("header").classList.add("on");
    });

    //서브메뉴 사라지기 : ul에 마우스아웃했을 때 각각 서브메뉴를 다중선택 해 높이를 0으로 줘 서브메뉴가 사라지게하고(.submenu의 이름을 sub로 정의함)
    //가상요소 사라지기 : getElementById을 사용해 헤더태그를 찾아주고 그 태그의 클래스에 on을 제거해 가상요소를 사라지게 함 
    navList.addEventListener("mouseout", () => {
        navList.querySelectorAll(".submenu").forEach(sub => {
            sub.style.height = "0px";
        });
        document.getElementById("header").classList.remove("on");
    });
}
  

</script>

</html>